<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PantauAPBN</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f5f9;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #cbd5e1;
      border-radius: 4px;
    }
    /* Modal animations */
    .modal-enter {
      opacity: 0;
      transform: translateY(-10px);
    }
    .modal-enter-active {
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    .modal-leave {
      opacity: 1;
      transform: translateY(0);
    }
    .modal-leave-active {
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    /* Smooth color transitions */
    * {
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }
  </style>
</head>
<body class="bg-white text-gray-800 font-smooth transition-colors duration-300">

  <!-- Navbar -->
  <nav class="bg-white shadow-lg sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 items-center">
        <div class="flex items-center space-x-8">
          <a href="#home" class="text-2xl font-bold text-indigo-600 hover:text-indigo-700 transition">PantauAPBN</a>
          <div class="hidden md:flex space-x-6 text-gray-700 font-medium">
            <a href="#home" class="hover:text-indigo-600 transition">Home</a>
            <a href="#dashboard" class="hover:text-indigo-600 transition">Dashboard</a>
            <a href="#projects" class="hover:text-indigo-600 transition">Projects</a>
            <a href="#feedback" class="hover:text-indigo-600 transition">Feedback</a>
          </div>
        </div>
        <div class="flex items-center space-x-4">
          <!-- Light/Dark Mode Toggle -->
          <button id="darkModeToggle" aria-label="Toggle Dark Mode" class="p-2 rounded-md hover:bg-gray-100 transition">
            <svg id="icon-sun" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m8.485-8.485h1M3 12H2m15.364 6.364l.707.707M6.343 6.343l.707.707m12.02 0l-.707.707M6.343 17.657l-.707.707M12 7a5 5 0 100 10 5 5 0 000-10z" />
            </svg>
            <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="currentColor" viewBox="0 0 24 24" stroke="none">
              <path d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z" />
            </svg>
          </button>
          <!-- Mobile menu button -->
          <button id="mobileMenuButton" class="md:hidden p-2 rounded-md hover:bg-gray-100 transition" aria-label="Toggle Menu">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
              <line x1="3" y1="12" x2="21" y2="12" />
              <line x1="3" y1="6" x2="21" y2="6" />
              <line x1="3" y1="18" x2="21" y2="18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <!-- Mobile menu -->
    <div id="mobileMenu" class="hidden md:hidden bg-white border-t border-gray-200">
      <a href="#home" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 transition">Home</a>
      <a href="#dashboard" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 transition">Dashboard</a>
      <a href="#projects" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 transition">Projects</a>
      <a href="#feedback" class="block px-4 py-3 text-gray-700 hover:bg-gray-100 transition">Feedback</a>
    </div>
  </nav>

  <!-- Hero Section -->
  <section id="home" class="min-h-[70vh] flex flex-col justify-center items-center text-center px-6 sm:px-12 lg:px-24 bg-gradient-to-r from-indigo-600 via-indigo-700 to-indigo-800 text-white">
    <div class="max-w-4xl">
      <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/bcf0c3ff-0b59-480f-8078-6a8aae51cf09.png" alt="Indonesian national budget transparency visualization with charts, graphs and financial data representing taxpayer money allocation" class="w-full h-auto rounded-lg shadow-2xl mb-8 mx-auto" />
      <h1 class="text-4xl sm:text-5xl font-extrabold mb-6 drop-shadow-lg">Track Your Taxes, Track Your Nation.</h1>
      <p class="text-lg sm:text-xl mb-8 drop-shadow-md leading-relaxed">Transparency of how taxpayer money is spent in Indonesia. Discover how your contributions build the nation's future through clear, accessible budget tracking.</p>
      <a href="#dashboard" class="inline-block bg-white text-indigo-700 font-semibold px-8 py-4 rounded-lg shadow-lg hover:bg-indigo-50 hover:scale-105 transition transform duration-300 text-lg">
        Explore Dashboard
      </a>
    </div>
  </section>

  <!-- Dashboard Section -->
  <section id="dashboard" class="max-w-7xl mx-auto px-6 sm:px-12 lg:px-24 py-20">
    <h2 class="text-3xl font-bold mb-12 text-center text-gray-800">National Budget Overview</h2>
    
    <!-- Statistic Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 mb-16">
      <div class="bg-white rounded-xl shadow-lg p-8 text-center border-l-4 border-indigo-500 hover:shadow-xl transition-shadow">
        <div class="w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3 text-gray-700">Total Revenue</h3>
        <p class="text-4xl font-bold text-indigo-600">Rp 2.800 T</p>
        <p class="text-sm text-gray-600 mt-2">Fiscal Year 2023</p>
      </div>
      
      <div class="bg-white rounded-xl shadow-lg p-8 text-center border-l-4 border-red-500 hover:shadow-xl transition-shadow">
        <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3 text-gray-700">Total Spending</h3>
        <p class="text-4xl font-bold text-red-600">Rp 3.100 T</p>
        <p class="text-sm text-gray-600 mt-2">Fiscal Year 2023</p>
      </div>
      
      <div class="bg-white rounded-xl shadow-lg p-8 text-center border-l-4 border-green-500 hover:shadow-xl transition-shadow">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3 text-gray-700">Deficit/Surplus</h3>
        <p class="text-4xl font-bold text-green-600">-Rp 300 T</p>
        <p class="text-sm text-gray-600 mt-2">Managed Deficit</p>
      </div>
    </div>
  </section>

  <!-- Projects Section -->
  <section id="projects" class="max-w-7xl mx-auto px-6 sm:px-12 lg:px-24 py-20 bg-gray-50 rounded-3xl">
    <h2 class="text-3xl font-bold mb-12 text-center text-gray-800">National Development Projects</h2>
    
    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-indigo-600 text-white">
            <tr>
              <th scope="col" class="px-8 py-4 text-left text-sm font-semibold uppercase tracking-wider">Project Name</th>
              <th scope="col" class="px-8 py-4 text-left text-sm font-semibold uppercase tracking-wider">Location</th>
              <th scope="col" class="px-8 py-4 text-left text-sm font-semibold uppercase tracking-wider">Budget</th>
              <th scope="col" class="px-8 py-4 text-left text-sm font-semibold uppercase tracking-wider">Status</th>
            </tr>
          </thead>
          <tbody id="projectsTableBody" class="divide-y divide-gray-200 cursor-pointer bg-white">
            <!-- Rows will be inserted by JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Modal -->
  <div id="modalBackdrop" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4" aria-hidden="true" role="dialog" aria-modal="true">
    <div id="modalContent" class="bg-white rounded-xl shadow-2xl max-w-2xl w-full p-8 transform transition-all scale-95 opacity-0" tabindex="-1">
      <button id="modalCloseBtn" aria-label="Close modal" class="text-gray-500 hover:text-gray-700 float-right text-2xl font-bold leading-none mb-4">&times;</button>
      <div class="clear-both">
        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/fb450d07-b922-43d1-b25a-0a696fad61b9.png" alt="Government infrastructure project development site showing construction progress and budget allocation details" class="w-full h-48 object-cover rounded-lg mb-6" />
        <h3 id="modalProjectName" class="text-2xl font-bold mb-4 text-gray-800"></h3>
        <div class="grid grid-cols-2 gap-4 mb-6">
          <div>
            <p class="text-sm text-gray-600">Location</p>
            <p id="modalProjectLocation" class="font-semibold"></p>
          </div>
          <div>
            <p class="text-sm text-gray-600">Budget</p>
            <p id="modalProjectBudget" class="font-semibold"></p>
          </div>
          <div>
            <p class="text-sm text-gray-600">Status</p>
            <p id="modalProjectStatus" class="font-semibold"></p>
          </div>
          <div>
            <p class="text-sm text-gray-600">Start Date</p>
            <p id="modalProjectDate" class="font-semibold"></p>
          </div>
        </div>
        <label for="progressBar" class="block mb-2 font-semibold text-gray-700">Project Progress</label>
        <div class="w-full bg-gray-200 rounded-full h-6 mb-6 overflow-hidden">
          <div id="progressBar" class="h-6 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white text-center leading-6 font-semibold text-sm transition-all duration-1000" style="width: 0%;">0%</div>
        </div>
        <p class="text-sm text-gray-600 mb-2">Project Description</p>
        <p id="modalProjectDescription" class="text-gray-700 leading-relaxed"></p>
      </div>
    </div>
  </div>

  <!-- Feedback Section -->
  <section id="feedback" class="max-w-4xl mx-auto px-6 sm:px-12 lg:px-24 py-20">
    <h2 class="text-3xl font-bold mb-12 text-center text-gray-800">Share Your Feedback</h2>
    
    <div class="bg-white rounded-xl shadow-lg p-8 mb-12">
      <form id="feedbackForm" class="space-y-6">
        <div>
          <label for="nameInput" class="block mb-2 font-semibold text-gray-700">Your Name</label>
          <input type="text" id="nameInput" name="name" required 
                 class="w-full rounded-xl border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition"
                 placeholder="Enter your name">
        </div>
        <div>
          <label for="commentInput" class="block mb-2 font-semibold text-gray-700">Your Comment</label>
          <textarea id="commentInput" name="comment" rows="4" required 
                    class="w-full rounded-xl border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition resize-none"
                    placeholder="Share your thoughts about national budget transparency..."></textarea>
        </div>
        <button type="submit" 
                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-8 py-4 rounded-xl transition transform hover:scale-105">
          Submit Feedback
        </button>
      </form>
    </div>

    <div id="commentsList" class="space-y-6">
      <!-- Comments will be inserted here -->
    </div>
  </section>

  <script>
    (() => {
      // Initialize data
      const projectsData = [
        {
          name: "Trans-Java Highway Construction",
          location: "Java Island",
          budget: "Rp 2.5 T",
          status: "On Track",
          progress: 85,
          description: "Construction of 750km highway connecting major cities across Java Island. Expected to reduce travel time by 40% and boost regional economic growth.",
          startDate: "Jan 2022",
          statusColor: "green"
        },
        {
          name: "Digital Infrastructure Upgrade",
          location: "Nationwide",
          budget: "Rp 1.8 T",
          status: "On Track",
          progress: 70,
          description: "National digital infrastructure modernization including fiber optic expansion and 5G network deployment to improve internet accessibility.",
          startDate: "Mar 2022",
          statusColor: "green"
        },
        {
          name: "Healthcare Facility Expansion",
          location: "Eastern Indonesia",
          budget: "Rp 1.2 T",
          status: "Delayed",
          progress: 45,
          description: "Construction of 25 new healthcare centers and modernization of existing facilities in underserved regions of Eastern Indonesia.",
          startDate: "Jun 2022",
          statusColor: "yellow"
        },
        {
          name: "Renewable Energy Initiative",
          location: "Bali, NTT, NTB",
          budget: "Rp 950 B",
          status: "Problematic",
          progress: 30,
          description: "Development of solar and wind power plants to increase renewable energy capacity and reduce carbon emissions in tourist regions.",
          startDate: "Sep 2022",
          statusColor: "red"
        },
        {
          name: "Education Infrastructure",
          location: "Sumatra",
          budget: "Rp 1.5 T",
          status: "On Track",
          progress: 90,
          description: "Building and renovating 150 schools and educational facilities to improve access to quality education in rural Sumatra.",
          startDate: "Feb 2022",
          statusColor: "green"
        }
      ];

      const feedbackComments = [];

      // Dark Mode Toggle
      const htmlEl = document.documentElement;
      const darkModeToggle = document.getElementById('darkModeToggle');
      const iconSun = document.getElementById('icon-sun');
      const iconMoon = document.getElementById('icon-moon');

      function setDarkMode(enabled) {
        if (enabled) {
          htmlEl.classList.add('dark');
          iconSun.classList.add('hidden');
          iconMoon.classList.remove('hidden');
          localStorage.setItem('pantauapbn-darkmode', 'true');
        } else {
          htmlEl.classList.remove('dark');
          iconSun.classList.remove('hidden');
          iconMoon.classList.add('hidden');
          localStorage.setItem('pantauapbn-darkmode', 'false');
        }
      }

      // Initialize from localStorage
      const savedDarkMode = localStorage.getItem('pantauapbn-darkmode');
      if (savedDarkMode === 'true') {
        setDarkMode(true);
      }

      darkModeToggle.addEventListener('click', () => {
        setDarkMode(!htmlEl.classList.contains('dark'));
      });

      // Mobile menu toggle
      const mobileMenuButton = document.getElementById('mobileMenuButton');
      const mobileMenu = document.getElementById('mobileMenu');
      mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });

      // Populate projects table
      const projectsTableBody = document.getElementById('projectsTableBody');
      projectsData.forEach((project, index) => {
        const row = document.createElement('tr');
        row.className = 'hover:bg-indigo-50 transition';
        row.innerHTML = `
          <td class="px-8 py-4 whitespace-nowrap">
            <div class="text-sm font-medium text-gray-900">${project.name}</div>
          </td>
          <td class="px-8 py-4 whitespace-nowrap">
            <div class="text-sm text-gray-700">${project.location}</div>
          </td>
          <td class="px-8 py-4 whitespace-nowrap">
            <div class="text-sm font-semibold text-indigo-600">${project.budget}</div>
          </td>
          <td class="px-8 py-4 whitespace-nowrap">
            <span class="px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full 
              ${project.statusColor === 'green' ? 'bg-green-100 text-green-800' : 
                project.statusColor === 'yellow' ? 'bg-yellow-100 text-yellow-800' : 
                'bg-red-100 text-red-800'}">
              ${project.status}
            </span>
          </td>
        `;
        row.addEventListener('click', () => openProjectModal(index));
        projectsTableBody.appendChild(row);
      });

      // Modal functionality
      const modalBackdrop = document.getElementById('modalBackdrop');
      const modalContent = document.getElementById('modalContent');
      const modalCloseBtn = document.getElementById('modalCloseBtn');

      function openProjectModal(index) {
        const project = projectsData[index];
        document.getElementById('modalProjectName').textContent = project.name;
        document.getElementById('modalProjectLocation').textContent = project.location;
        document.getElementById('modalProjectBudget').textContent = project.budget;
        document.getElementById('modalProjectStatus').textContent = project.status;
        document.getElementById('modalProjectDate').textContent = project.startDate;
        document.getElementById('modalProjectDescription').textContent = project.description;
        
        const progressBar = document.getElementById('progressBar');
        progressBar.style.width = '0%';
        progressBar.textContent = '0%';
        
        modalBackdrop.classList.remove('hidden');
        setTimeout(() => {
          modalContent.classList.remove('scale-95', 'opacity-0');
          setTimeout(() => {
            progressBar.style.width = project.progress + '%';
            progressBar.textContent = project.progress + '%';
          }, 100);
        }, 10);
      }

      function closeModal() {
        modalContent.classList.add('scale-95', 'opacity-0');
        setTimeout(() => {
          modalBackdrop.classList.add('hidden');
        }, 300);
      }

      modalCloseBtn.addEventListener('click', closeModal);
      modalBackdrop.addEventListener('click', (e) => {
        if (e.target === modalBackdrop) closeModal();
      });

      // Feedback form
      const feedbackForm = document.getElementById('feedbackForm');
      const commentsList = document.getElementById('commentsList');

      feedbackForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const name = document.getElementById('nameInput').value;
        const comment = document.getElementById('commentInput').value;
        
        if (name && comment) {
          const newComment = {
            name,
            comment,
            date: new Date().toLocaleDateString(),
            id: Date.now()
          };
          
          feedbackComments.unshift(newComment);
          renderComments();
          
          // Reset form
          feedbackForm.reset();
        }
      });

      function renderComments() {
        commentsList.innerHTML = '';
        feedbackComments.forEach(comment => {
          const commentElement = document.createElement('div');
          commentElement.className = 'bg-white rounded-xl shadow-lg p-6';
          commentElement.innerHTML = `
            <div class="flex items-start justify-between mb-3">
              <h4 class="font-semibold text-indigo-600">${comment.name}</h4>
              <span class="text-sm text-gray-500">${comment.date}</span>
            </div>
            <p class="text-gray-700 mb-4">${comment.comment}</p>
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-500">Thank you for your feedback!</span>
              <button onclick="reportComment(${comment.id})" class="text-red-500 hover:text-red-700 text-sm font-medium">
                Report
              </button>
            </div>
          `;
          commentsList.appendChild(commentElement);
        });
      }

      // Make reportComment function available globally
      window.reportComment = function(id) {
        alert('Thank you for reporting this comment. Our team will review it shortly.');
      };

    })();
  </script>
</body>
</html>